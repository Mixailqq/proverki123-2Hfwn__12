<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .content {
            display: flex;
            min-height: 500px;
        }

        .editor-panel {
            flex: 1;
            padding: 30px;
            background: #f8f9fa;
            border-right: 1px solid #eee;
        }

        .preview-panel {
            flex: 1;
            padding: 30px;
            background: white;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #3498db;
        }

        textarea {
            height: 120px;
            resize: vertical;
            font-family: monospace;
        }

        button {
            background: #3498db;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            transition: background 0.3s;
            margin: 5px 0;
        }

        button:hover {
            background: #2980b9;
        }

        .secondary-btn {
            background: #95a5a6;
        }

        .secondary-btn:hover {
            background: #7f8c8d;
        }

        .danger-btn {
            background: #e74c3c;
        }

        .danger-btn:hover {
            background: #c0392b;
        }

        .text-element {
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            animation: fadeIn 0.5s ease-in;
        }

        .text-element h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }

        .text-element p {
            line-height: 1.6;
            color: #34495e;
        }

        .html-code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        .element-controls {
            margin-top: 10px;
            text-align: right;
        }

        .element-controls button {
            width: auto;
            padding: 5px 10px;
            font-size: 12px;
            margin-left: 5px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .empty-state {
            text-align: center;
            color: #7f8c8d;
            padding: 40px;
            font-style: italic;
        }

        .tag-preview {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 12px;
            margin: 0 2px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìù –†–µ–¥–∞–∫—Ç–æ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h1>
            <p>–î–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–µ–∫—Å—Ç –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä—è–º–æ –≤ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã</p>
        </div>

        <div class="content">
            <!-- –ü–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ -->
            <div class="editor-panel">
                <form id="contentForm">
                    <div class="form-group">
                        <label for="elementType">–¢–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞:</label>
                        <select id="elementType">
                            <option value="paragraph">–ê–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞</option>
                            <option value="heading">–ó–∞–≥–æ–ª–æ–≤–æ–∫</option>
                            <option value="code">–ë–ª–æ–∫ –∫–æ–¥–∞</option>
                            <option value="quote">–¶–∏—Ç–∞—Ç–∞</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="contentText">–¢–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:</label>
                        <textarea id="contentText" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="elementStyle">–°—Ç–∏–ª—å —ç–ª–µ–º–µ–Ω—Ç–∞:</label>
                        <select id="elementStyle">
                            <option value="normal">–û–±—ã—á–Ω—ã–π</option>
                            <option value="important">–í–∞–∂–Ω—ã–π</option>
                            <option value="warning">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ</option>
                            <option value="success">–£—Å–ø–µ—Ö</option>
                        </select>
                    </div>

                    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
                    <button type="button" class="secondary-btn" onclick="generateHTML()">–ü–æ–∫–∞–∑–∞—Ç—å HTML –∫–æ–¥</button>
                    <button type="button" class="danger-btn" onclick="clearAll()">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
                </form>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
            <div class="preview-panel">
                <h2>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h2>
                <div id="contentPreview">
                    <div class="empty-state">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</div>
                </div>

                <div id="htmlOutput" style="display: none; margin-top: 30px;">
                    <h3>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTML –∫–æ–¥:</h3>
                    <div class="html-code" id="generatedHTML"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let elements = JSON.parse(localStorage.getItem('pageElements')) || [];
        let elementId = 1;

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadElements();
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã
        document.getElementById('contentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            addElement();
        });

        function addElement() {
            const type = document.getElementById('elementType').value;
            const text = document.getElementById('contentText').value.trim();
            const style = document.getElementById('elementStyle').value;

            if (!text) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç');
                return;
            }

            const element = {
                id: elementId++,
                type: type,
                text: text,
                style: style,
                timestamp: new Date().toLocaleString('ru-RU')
            };

            elements.push(element);
            saveElements();
            renderElement(element);
            document.getElementById('contentText').value = '';

            // –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –Ω–æ–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
            document.getElementById('contentPreview').lastChild.scrollIntoView({
                behavior: 'smooth'
            });
        }

        function renderElement(element) {
            const preview = document.getElementById('contentPreview');
            
            // –£–±–∏—Ä–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ "–ø—É—Å—Ç–æ"
            if (preview.querySelector('.empty-state')) {
                preview.innerHTML = '';
            }

            const elementDiv = document.createElement('div');
            elementDiv.className = `text-element style-${element.style}`;
            elementDiv.dataset.id = element.id;

            let content = '';
            switch (element.type) {
                case 'heading':
                    content = `<h3>${escapeHtml(element.text)}</h3>`;
                    break;
                case 'code':
                    content = `
                        <h3>–ë–ª–æ–∫ –∫–æ–¥–∞</h3>
                        <pre><code>${escapeHtml(element.text)}</code></pre>
                    `;
                    break;
                case 'quote':
                    content = `
                        <h3>–¶–∏—Ç–∞—Ç–∞</h3>
                        <blockquote>${escapeHtml(element.text)}</blockquote>
                    `;
                    break;
                default:
                    content = `
                        <h3>–ê–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞</h3>
                        <p>${escapeHtml(element.text)}</p>
                    `;
            }

            elementDiv.innerHTML = content + `
                <div class="element-controls">
                    <small>–î–æ–±–∞–≤–ª–µ–Ω–æ: ${element.timestamp}</small>
                    <button class="secondary-btn" onclick="editElement(${element.id})">‚úèÔ∏è</button>
                    <button class="danger-btn" onclick="removeElement(${element.id})">üóëÔ∏è</button>
                </div>
            `;

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏
            applyStyles(elementDiv, element.style);
            preview.appendChild(elementDiv);
        }

        function applyStyles(element, style) {
            const styles = {
                important: { borderColor: '#e74c3c', background: '#fddede' },
                warning: { borderColor: '#f39c12', background: '#fef5e7' },
                success: { borderColor: '#27ae60', background: '#d5f4e6' },
                normal: { borderColor: '#3498db', background: '#f8f9fa' }
            };

            Object.assign(element.style, styles[style] || styles.normal);
        }

        function loadElements() {
            const preview = document.getElementById('contentPreview');
            preview.innerHTML = '';

            if (elements.length === 0) {
                preview.innerHTML = '<div class="empty-state">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</div>';
                return;
            }

            elements.forEach(element => {
                if (element.id >= elementId) elementId = element.id + 1;
                renderElement(element);
            });
        }

        function removeElement(id) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç?')) {
                elements = elements.filter(el => el.id !== id);
                saveElements();
                loadElements();
            }
        }

        function editElement(id) {
            const element = elements.find(el => el.id === id);
            if (element) {
                document.getElementById('elementType').value = element.type;
                document.getElementById('contentText').value = element.text;
                document.getElementById('elementStyle').value = element.style;
                
                // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π —ç–ª–µ–º–µ–Ω—Ç
                elements = elements.filter(el => el.id !== id);
                saveElements();
                loadElements();
            }
        }

        function clearAll() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Å—Ç—Ä–∞–Ω–∏—Ü—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                elements = [];
                elementId = 1;
                saveElements();
                loadElements();
                document.getElementById('htmlOutput').style.display = 'none';
            }
        }

        function generateHTML() {
            if (elements.length === 0) {
                alert('–ù–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML');
                return;
            }

            let htmlCode = '<!-- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTML –∫–æ–¥ -->\n';
            elements.forEach(element => {
                switch (element.type) {
                    case 'heading':
                        htmlCode += `<h2>${escapeHtml(element.text)}</h2>\n`;
                        break;
                    case 'code':
                        htmlCode += `<pre><code>${escapeHtml(element.text)}</code></pre>\n`;
                        break;
                    case 'quote':
                        htmlCode += `<blockquote>${escapeHtml(element.text)}</blockquote>\n`;
                        break;
                    default:
                        htmlCode += `<p>${escapeHtml(element.text)}</p>\n`;
                }
            });

            document.getElementById('generatedHTML').textContent = htmlCode;
            document.getElementById('htmlOutput').style.display = 'block';
        }

        function saveElements() {
            localStorage.setItem('pageElements', JSON.stringify(elements));
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // –ü—Ä–∏–º–µ—Ä –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
        if (elements.length === 0) {
            elements = [
                {
                    id: elementId++,
                    type: 'heading',
                    text: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ!',
                    style: 'important',
                    timestamp: new Date().toLocaleString('ru-RU')
                },
                {
                    id: elementId++,
                    type: 'paragraph',
                    text: '–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º—É —Å–ª–µ–≤–∞, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.',
                    style: 'normal',
                    timestamp: new Date().toLocaleString('ru-RU')
                }
            ];
            saveElements();
            loadElements();
        }
    </script>
</body>
</html>
